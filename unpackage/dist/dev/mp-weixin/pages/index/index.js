(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{37:
/*!***************************************************************************!*\
  !*** D:/xiaoma/项目/sdyj-dispatch/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \***************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){o(/*! uni-pages */4);n(o(/*! vue */2));var e=n(o(/*! ./pages/index/index.vue */38));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},38:
/*!********************************************************!*\
  !*** D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue ***!
  \********************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! ./index.vue?vue&type=template&id=57280228&scoped=true& */39),i=o(/*! ./index.vue?vue&type=script&lang=js& */41);for(var l in i)"default"!==l&&function(t){o.d(e,t,(function(){return i[t]}))}(l);o(/*! ./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css& */45);var a,r=o(/*! ../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),s=Object(r["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,"57280228",null,!1,n["components"],a);s.options.__file="pages/index/index.vue",e["default"]=s.exports},39:
/*!***************************************************************************************************!*\
  !*** D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=template&id=57280228&scoped=true& ***!
  \***************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true& */40);o.d(e,"render",(function(){return n["render"]})),o.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(e,"components",(function(){return n["components"]}))},40:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=template&id=57280228&scoped=true& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,o){"use strict";o.r(e),o.d(e,"render",(function(){return i})),o.d(e,"staticRenderFns",(function(){return a})),o.d(e,"recyclableRender",(function(){return l})),o.d(e,"components",(function(){return n}));var n={uNavbar:function(){return o.e(/*! import() | uview-ui/components/u-navbar/u-navbar */"uview-ui/components/u-navbar/u-navbar").then(o.bind(null,/*! @/uview-ui/components/u-navbar/u-navbar.vue */136))},uNoticeBar:function(){return o.e(/*! import() | uview-ui/components/u-notice-bar/u-notice-bar */"uview-ui/components/u-notice-bar/u-notice-bar").then(o.bind(null,/*! @/uview-ui/components/u-notice-bar/u-notice-bar.vue */143))},uModal:function(){return o.e(/*! import() | uview-ui/components/u-modal/u-modal */"uview-ui/components/u-modal/u-modal").then(o.bind(null,/*! @/uview-ui/components/u-modal/u-modal.vue */150))},uPopup:function(){return o.e(/*! import() | uview-ui/components/u-popup/u-popup */"uview-ui/components/u-popup/u-popup").then(o.bind(null,/*! @/uview-ui/components/u-popup/u-popup.vue */157))}},i=function(){var t=this,e=t.$createElement;t._self._c},l=!1,a=[];i._withStripped=!0},41:
/*!*********************************************************************************!*\
  !*** D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */42),i=o.n(n);for(var l in n)"default"!==l&&function(t){o.d(e,t,(function(){return n[t]}))}(l);e["default"]=i.a},42:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(/*! ../../common//mock.mp.js */43),i=o(/*! ../../libs/bmap-wx.js */44),l=function(){o.e(/*! require.ensure | components/common/load-more */"components/common/load-more").then(function(){return resolve(o(/*! ../../components/common/load-more.vue */164))}.bind(null,o)).catch(o.oe)},a=function(){o.e(/*! require.ensure | components/struggler-uniapp-add-tip/struggler-uniapp-add-tip */"components/struggler-uniapp-add-tip/struggler-uniapp-add-tip").then(function(){return resolve(o(/*! ../../components/struggler-uniapp-add-tip/struggler-uniapp-add-tip */171))}.bind(null,o)).catch(o.oe)},r=function(){o.e(/*! require.ensure | components/common/no-thing */"components/common/no-thing").then(function(){return resolve(o(/*! ../../components/common/no-thing.vue */178))}.bind(null,o)).catch(o.oe)},s=function(){o.e(/*! require.ensure | components/index/orderlist */"components/index/orderlist").then(function(){return resolve(o(/*! ../../components/index/orderlist.vue */185))}.bind(null,o)).catch(o.oe)},c=function(){o.e(/*! require.ensure | components/index/already */"components/index/already").then(function(){return resolve(o(/*! ../../components/index/already.vue */192))}.bind(null,o)).catch(o.oe)},u={components:{loadMore:l,addTip:a,noThing:r,orderList:s,Already:c},data:function(){return{tool:[],jl:[],latitude:"",longitude:"",tip:"点击「添加小程序」，下次访问更便捷",duration:1,istype:"",address:"当前位置",height:"",background:{backgroundImage:"linear-gradient(90deg, #00ABEB, #54C3F1)"},user_uid:"",showpopup:!1,show:!1,content:"恭喜您抢单成功，请前往已抢单界面查看详情！",loadtext:"上拉加载更多",notice:[],swiperheight:500,tabIndex:0,tabBars:[{name:"待抢单",id:"daiqiangdan"},{name:"已抢单",id:"yiqiangdan"}],orderlist:[],takelist:[]}},onReady:function(){},onLoad:function(){var e=this,o=this;this.checklogin(),t.getSystemInfo({success:function(o){console.log(o.windowHeight);var n=o.windowHeight-t.upx2px(50);e.swiperheight=n}}),t.getLocation({type:"gcj02",success:function(e){console.log("当前位置的经度："+e.longitude),console.log("当前位置的纬度："+e.latitude),o.latitude=e.latitude,o.longitude=e.longitude,t.setStorageSync("longitude",e.longitude),t.setStorageSync("latitude",e.latitude);var n=new i.BMapWX({ak:"q58GRKnjyQGGXI72GMdHKBBUaHEIKSyc"});n.regeocoding({location:e.latitude+","+e.longitude,success:function(t){var e=t.wxMarkerData[0].address.substring(3);console.log(this),o.address=e},fail:function(t){console.log(t),console.log("失败")}})},fail:function(){t.showToast({title:"拒绝获取当前位置"}),console.log("位置获取失败")}}),this.getNavbar(),this.user_uid=t.getStorageSync("user_uid");var n=t.getStorageSync("phone");console.log("uid的值:"+this.user_uid),n?this.getWOrkstay():this.getData()},onPullDownRefresh:function(){console.log("下拉刷新")},methods:{xuanzhong:function(t){this.tabIndex=t,console.log(t)},tabChange:function(t){this.tabIndex=t.detail.current,1==this.tabIndex&&(this.showpopup=!0,this.getAlready())},loadmore:function(){if("上拉加载更多"==this.loadtext){this.loadtext="加载中...",console.log(this.loadtext);for(var t=0;t<5;t++){var e=n.mock({"orderlist|3":[{"time|1-10":10,"price|100-600":600,address:"@county(true)","distance|1-10.1":1,vtime:"@datetime()",loadtext:"上拉加载更多","type|1":[{"id|1":"家政服务","childrentype|1":["日常保洁","开荒保洁","地板养护","空气检测","甲醛治理","沙发清洗","窗帘清洗","收纳师","保姆","月嫂","做饭阿姨","上门除螨","消毒服务"]},{"id|1":"清洗服务","childrentype|1":["油烟机清洗","洗衣机清洗","冰箱清洗","热水器清洗","饮水机清洗","燃气罩清洗","电风扇清洗","微波炉清洗","沙发清洗","窗帘清洗"]},{"id|1":"安装维修","childrentype|1":["家电维修","锁具安装","管道疏通","卫浴维修","开锁换锁","壁纸壁画","地板安装","五金安装","卫浴安装","家具安装","家具维修"]},{"id|1":"搬运搬家","childrentype|1":["钢琴搬运","家庭搬家","企业搬家","车辆托运"]},{"id|1":"乐器维修","childrentype|1":["钢琴调音","钢琴维修","电子琴维修","古筝调音","古筝维修","吉他维修","风琴维修"]},{"id|1":"房屋装修","childrentype|1":["水电工","油漆工","木工","拆墙工","水暖工","泥水工","防水工","力工","打孔","安装工"]}],"tool|1-3":[{"name|+1":["毛巾","托帕","扳手大锤","梯子","掸子","铲刀","涂水","擦地拖地器具","吸尘吸水器具","刮子","加长杆"]}]}]}),o=this.orderlist.concat(e.orderlist);this.orderlist=o}console.log("加载后端获取的数据"),this.loadtext="暂无更多数据",console.log(this.loadtext)}},getData:function(){var e=n.mock({"orderlist|3":[{"time|1-10":10,"price|100-600":600,address:"@county(true)","distance|1-10.1":1,vtime:"@datetime()",loadtext:"上拉加载更多","type|1":[{"id|1":"家政服务","childrentype|1":["日常保洁","开荒保洁","地板养护","空气检测","甲醛治理","沙发清洗","窗帘清洗","收纳师","保姆","月嫂","做饭阿姨","上门除螨","消毒服务"]},{"id|1":"清洗服务","childrentype|1":["油烟机清洗","洗衣机清洗","冰箱清洗","热水器清洗","饮水机清洗","燃气罩清洗","电风扇清洗","微波炉清洗","沙发清洗","窗帘清洗"]},{"id|1":"安装维修","childrentype|1":["家电维修","锁具安装","管道疏通","卫浴维修","开锁换锁","壁纸壁画","地板安装","五金安装","卫浴安装","家具安装","家具维修"]},{"id|1":"搬运搬家","childrentype|1":["钢琴搬运","家庭搬家","企业搬家","车辆托运"]},{"id|1":"乐器维修","childrentype|1":["钢琴调音","钢琴维修","电子琴维修","古筝调音","古筝维修","吉他维修","风琴维修"]},{"id|1":"房屋装修","childrentype|1":["水电工","油漆工","木工","拆墙工","水暖工","泥水工","防水工","力工","打孔","安装工"]}],"tool|1-3":[{"name|+1":["毛巾","托帕","扳手大锤","梯子","掸子","铲刀","涂水","擦地拖地器具","吸尘吸水器具","刮子","加长杆"]}]}]}),o=e.orderlist;this.orderlist=o,console.log("xialashuju"),t.stopPullDownRefresh()},openModel:function(e){var o=t.getStorageSync("phone");if(o){var i=!0;i&&(i=!1,t.request({url:"https://applet.51tiaoyin.com/public/applet/work/take",method:"POST",dataType:JSON,data:{uid:this.user_uid,code:a,WorkNautica:[this.longitude,this.latitude],phone:o},success:function(o){if(console.log(o),console.log("当前点击的为："+e),o.code=200){r.show=!0;var n=r.orderlist.splice(e,1);console.log(n)}else t.showToast({title:"无网络!"})},fail:function(){console.log(res)}}))}else{t.showModal({title:"提示",content:"请先完成师傅服务类型注册，在抢单",success:function(e){e.confirm?(console.log("用户点击确定"),t.navigateTo({url:"../settlement/settlement"})):e.cancel&&console.log("用户点击取消")}});var l=n.mock({"orderlist|3":[{"time|1-10":10,"price|100-600":600,address:"@county(true)","distance|1-10.1":1,vtime:"@datetime()",loadtext:"上拉加载更多","type|1":[{"id|1":"家政服务","childrentype|1":["日常保洁","开荒保洁","地板养护","空气检测","甲醛治理","沙发清洗","窗帘清洗","收纳师","保姆","月嫂","做饭阿姨","上门除螨","消毒服务"]},{"id|1":"清洗服务","childrentype|1":["油烟机清洗","洗衣机清洗","冰箱清洗","热水器清洗","饮水机清洗","燃气罩清洗","电风扇清洗","微波炉清洗","沙发清洗","窗帘清洗"]},{"id|1":"安装维修","childrentype|1":["家电维修","锁具安装","管道疏通","卫浴维修","开锁换锁","壁纸壁画","地板安装","五金安装","卫浴安装","家具安装","家具维修"]},{"id|1":"搬运搬家","childrentype|1":["钢琴搬运","家庭搬家","企业搬家","车辆托运"]},{"id|1":"乐器维修","childrentype|1":["钢琴调音","钢琴维修","电子琴维修","古筝调音","古筝维修","吉他维修","风琴维修"]},{"id|1":"房屋装修","childrentype|1":["水电工","油漆工","木工","拆墙工","水暖工","泥水工","防水工","力工","打孔","安装工"]}],"tool|1-3":[{"name|+1":["毛巾","托帕","扳手大锤","梯子","掸子","铲刀","涂水","擦地拖地器具","吸尘吸水器具","刮子","加长杆"]}]}]});this.orderlist=l.orderList}var a=this.orderlist[e].code,r=this;t.showToast({title:s});var s=!0},close:function(){this.$refs.popup.close()},openWaitlist:function(){t.request({url:"https://applet.51tiaoyin.com/public/applet/work/already",method:"GET",dataType:JSON,data:{uid:this.user_uid},success:function(t){console.log("已抢单"),console.log(t)},fail:function(t){console.log(t)}})},countDistance:function(t,e,o,n){var i=6378137;function l(t){return t*Math.PI/180}var a=l(t),r=l(e),s=l(o),c=l(n),u=Math.sin(a)*Math.sin(s);return u+=Math.cos(a)*Math.cos(s)*Math.cos(r-c),Math.acos(u)*i},getNavbar:function(){var t=n.Random;t.county(),t.cname(),t.city(),t.datetime();for(var e=n.mock({"list|3":[{name:"@cname()",city:"@city(true)","type|+1":["日常保洁","开荒保洁","上门除甲醛","上门维修"]}]}),o=0;o<e.list.length;o++){var i="恭喜--"+e.list[o].name+"--抢到"+e.list[o].city+"--"+e.list[o].type+"--订单";this.notice.push(i)}},getWOrkstay:function(){var e=this;t.request({url:"https://applet.51tiaoyin.com/public/applet/work/stay",method:"POST",dataType:JSON,data:{town:"成都",genre:["日常保洁","开荒保洁","上门除甲醛"],uid:this.user_uid},success:function(o){console.log(o);var n=JSON.parse(o.data);if(console.log(n.data),200==n.code){e.orderlist=n.data,console.log("订单列表:"),console.log(e.orderlist);for(var i=0;i<e.orderlist.length;i++){var l=e.orderlist[i].longitude,a=e.orderlist[i].label.split(" ");console.log(l);var r=l.split(",")[0],s=l.split(",")[1],c=e.countDistance(e.latitude,e.longitude,s,r);c=Math.floor(c/1e3*10)/10,e.jl.push(c),e.tool.push(a),console.log(e.jl),console.log(e.tool)}}else console.log(o),t.showToast({title:"无网络"})},fail:function(t){console.log(t)}})},getAlready:function(){var e=this;t.request({url:"https://applet.51tiaoyin.com/public/applet/work/already",method:"POST",dataType:JSON,data:{uid:this.user_uid},success:function(o){console.log(o);var n=JSON.parse(o.data);if(console.log(n.data),200==n.code){e.takelist=n.data,console.log("已抢单订单列表:"),console.log(e.takelist);for(var i=0;i<e.takelist.length;i++){var l=e.takelist[i].longitude,a=e.takelist[i].label.split(" ");console.log(l);var r=l.split(",")[0],s=l.split(",")[1],c=e.countDistance(e.latitude,e.longitude,s,r);c=Math.floor(c/1e3*10)/10,e.jl.push(c),e.tool.push(a),console.log(e.jl),console.log(e.tool)}}else console.log(o),t.showToast({title:"无网络"})},fail:function(t){console.log(t)}})}}};e.default=u}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},45:
/*!*****************************************************************************************************************!*\
  !*** D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css& ***!
  \*****************************************************************************************************************/
/*! no static exports found */function(t,e,o){"use strict";o.r(e);var n=o(/*! -!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css& */46),i=o.n(n);for(var l in n)"default"!==l&&function(t){o.d(e,t,(function(){return n[t]}))}(l);e["default"]=i.a},46:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,o){}},[[37,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map