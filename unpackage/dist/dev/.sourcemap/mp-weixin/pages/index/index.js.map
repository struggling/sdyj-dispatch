{"version":3,"sources":["uni-app:///main.js","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?f25b","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?f0f7","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?9ccd","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?491b","uni-app:///pages/index/index.vue","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?4361","webpack:///D:/xiaoma/项目/sdyj-dispatch/pages/index/index.vue?ad60"],"names":["createPage","Page","renderjs","component","options","__file","components","uNavbar","uNoticeBar","uSearch","uCalendar","uBadge","uModal","render","_vm","this","_h","$createElement","l0","_self","_c","__map","menuList","detailList","item","index","$orig","__get_orig","g0","rSelect1","indexOf","_isMounted","e0","$event","$u","debounce","orderSearch1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,yC,mDACAA,EAAWC,a;;;;2DCHX,kWACIC,EADJ,6JAUIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E;;;;2GCxBf,qkC;;;;2GCAA,8LAAIG,EAAa,CACfC,QAAS,WACP,OAAO,8KAITC,WAAY,WACV,OAAO,sMAITC,QAAS,WACP,OAAO,8KAITC,UAAW,WACT,OAAO,0LAITC,OAAQ,WACN,OAAO,wKAITC,OAAQ,WACN,OAAO,yKAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAS,GAAGC,YAAY,SAASC,EAAMC,GAC5D,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIe,SAASC,QAAQL,GAC9B,MAAO,CACLC,MAAOA,EACPE,GAAIA,OAIHd,EAAIiB,aACPjB,EAAIkB,GAAK,SAASC,GAChB,OAAOnB,EAAIoB,GAAGC,SAASrB,EAAIsB,aAAc,OAI7CtB,EAAIuB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLvB,GAAIA,MAKRwB,GAAmB,EACnBC,EAAkB,GACtB9B,EAAO+B,eAAgB,G;;;;2DC/DvB,isBAA2oB,eAAG,G;;;;wMCsK9oB,GATA,uCASA,6D,ueAVA,2CAGA,2CACA,oC,g2DAUA,CACA,mBACA,YACA,WACA,SACA,UACA,YACA,UACA,gBACA,WACA,eAEA,KAZA,WAYA,MACA,UACA,QACA,aACA,MACA,KACA,MAEA,cACA,YACA,aACA,SACA,QACA,MACA,MACA,MACA,MACA,MACA,OAEA,eACA,oBACA,WACA,YACA,0BACA,eACA,aACA,qBAEA,UACA,CACA,aACA,2BACA,aACA,cACA,eAIA,CACA,aACA,0BACA,aACA,cACA,gBAKA,qBACA,QACA,QACA,SACA,OACA,QACA,WAEA,gBACA,YACA,YACA,WACA,UACA,QAEA,YACA,SAGA,aACA,aACA,QACA,QACA,MACA,YACA,aACA,wBACA,WACA,UACA,eACA,UACA,YACA,4DAEA,aAlFA,iBAmFA,GAnFA,YAoFA,GApFA,cAqFA,mEArFA,eAsFA,UAtFA,aAuFA,IAvFA,mBAwFA,KAxFA,eAyFA,GAzFA,cA0FA,EACA,WACA,kBAEA,CACA,WACA,mBAhGA,gBAoGA,IApGA,eAqGA,IArGA,WAsGA,GAtGA,cAuGA,GAvGA,GA0GA,QAvHA,aA0HA,OACA,KADA,SACA,GACA,sBACA,gCAUA,OAvIA,WAuIA,WAOA,sCACA,qCAEA,kBACA,uBACA,eACA,YACA,gBAEA,kBACA,MAEA,qBAcA,UAEA,cAFA,WAGA,yCACA,kCACA,kBACA,mBACA,sBACA,mBACA,QACA,IACA,+BACA,gCACA,8BACA,0BAEA,kBAEA,uBAGA,cACA,qBACA,WACA,OACA,YAGA,sCAOA,OA3MA,SA2MA,cAEA,eACA,0BACA,2BACA,UACA,oBACA,eACA,gBAEA,WACA,wBAEA,iBACA,oBAEA,mCACA,iBACA,+BAKA,iBAKA,oCAKA,kBACA,qCACA,uDACA,eACA,aACA,8BAUA,SAEA,UAFA,WAGA,kBAGA,WANA,WAOA,mBAIA,YAXA,SAWA,GACA,iBACA,mBAGA,YAhBA,SAgBA,GACA,mBACA,qBAGA,YArBA,SAqBA,IACA,6BACA,eACA,sBAEA,mEAGA,iDACA,mEAOA,WArCA,SAqCA,cACA,uBACA,mCACA,uCACA,2BACA,OACA,oBACA,eACA,aACA,wBAEA,SACA,sBAGA,6BACA,uBACA,eAEA,+BACA,iBACA,gBACA,MACA,OACA,aACA,kBACA,uBACA,mBACA,YACA,oBACA,eAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,4BAKA,UA3FA,WA4FA,iBACA,oBAGA,WAhGA,WAgGA,WACA,2BACA,2BACA,eACA,iBACA,gBACA,MACA,OACA,QACA,kBACA,mBAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,4BAIA,WAjIA,SAiIA,GACA,oBACA,gBAIA,OAvIA,SAuIA,cACA,+BACA,2CACA,4CACA,eACA,eACA,+BACA,2BACA,aACA,iBACA,gBACA,MACA,OACA,QACA,mBAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,4BAIA,YA5KA,SA4KA,GACA,gBAGA,YAhLA,SAgLA,cACA,eACA,2BACA,2BACA,2BACA,eACA,0BACA,iBACA,gBACA,MACA,OACA,QACA,kBACA,QAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,4BAKA,YArNA,WAqNA,WACA,2BACA,2BACA,eACA,0BACA,iBACA,gBACA,MACA,OACA,QACA,kBACA,qBAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,4BAKA,aAxPA,WAwPA,WAEA,GADA,0BACA,cACA,+BACA,2BACA,eACA,0BACA,iBACA,gBACA,MACA,OACA,QACA,kBACA,qBAEA,iBAEA,kBAGA,kBACA,wBAEA,yBAEA,kBACA,wBACA,aACA,kBAIA,6BAOA,QA/RA,WA+RA,WACA,iBACA,mBACA,QACA,iBACA,kBAGA,GAFA,eAEA,kBACA,wBAEA,yBACA,8BAUA,IATA,kCAEA,GACA,aACA,2BACA,aACA,cACA,eAEA,oBACA,OACA,cACA,eAEA,aACA,aACA,qBACA,sBACA,0BAEA,gBACA,2CACA,sBAGA,YACA,4BAWA,aAjVA,WAiVA,WAGA,mBACA,kBAEA,uBACA,0BAEA,OAKA,UA/VA,SA+VA,GACA,gBACA,gBAIA,UArWA,SAqWA,GACA,+BACA,iBAIA,sBACA,kBAEA,oBAIA,SAlXA,aAqXA,QArXA,WAsXA,aACA,WACA,mBAIA,UA5XA,SA4XA,cACA,4BAEA,GADA,eACA,GACA,SACA,MACA,KACA,eACA,yBACA,WACA,sBACA,iBACA,gBACA,MACA,kBACA,OACA,2CACA,SAEA,iBAEA,kBACA,eAEA,kBACA,wBACA,eACA,wBACA,UACA,wBAEA,iBACA,yBAGA,wBACA,aACA,WACA,mBACA,oBACA,UACA,sBACA,UACA,mCAuCA,aACA,WACA,2BACA,oBACA,WACA,sBAEA,cACA,8BAEA,UACA,yBAMA,uBAGA,aACA,UAEA,UAKA,MA1eA,WA2eA,0BAGA,aA9eA,WAwfA,WACA,gCACA,aACA,cACA,MACA,mBAEA,QAPA,SAOA,GACA,mBACA,gBAEA,KAXA,SAWA,GACA,mBASA,cA7gBA,SA6gBA,SACA,cAKA,cACA,qBAOA,WACA,OACA,OACA,OACA,0BAEA,OADA,yCACA,gBAKA,UAtiBA,WAsiBA,WACA,iBACA,eACA,QACA,gBAEA,kBAGA,kBACA,wBAEA,uBACA,YACA,6BA8BA,YAllBA,WAklBA,uIACA,4BACA,GAGA,EACA,2BACA,2BAGA,eAEA,cACA,gBACA,MACA,OACA,QACA,gBAEA,iBAEA,kBAGA,kBACA,wBAEA,0BAEA,YACA,8BAOA,EACA,2BAKA,cACA,gBACA,MACA,OACA,gBAEA,iBAEA,kBAGA,kBACA,wBAEA,0BACA,YACA,6BA3DA,8CAkJA,WApuBA,WAouBA,WACA,iBACA,mBACA,MACA,mBAEA,iBAEA,kBAGA,kBACA,wBACA,yBAEA,YACA,6BA4EA,QAh0BA,WAk0BA,eACA,OACA,WACA,aACA,cACA,oBACA,qBACA,qBACA,aACA,2CACA,SACA,eACA,wBACA,kBACA,8BACA,4CACA,wCACA,uBACA,WACA,QACA,kBACA,wCACA,UAIA,UAGA,iBA/1BA,WAg2BA,WACA,aACA,2BACA,QAFA,WAGA,qBAEA,KALA,WAMA,gBACA,gBACA,mCAMA,gBA/2BA,WAg3BA,WACA,eACA,aACA,kBACA,QAHA,SAGA,GACA,eACA,oCACA,mCACA,sBACA,wBAEA,0CACA,wCAEA,oBACA,wCAEA,eACA,oCAEA,QAHA,SAGA,GAEA,6CAEA,YACA,8BAEA,6CACA,yCACA,qBACA,qBACA,mDACA,eACA,YACA,4BAGA,KApBA,SAoBA,GACA,eACA,sBAKA,KA3CA,SA2CA,GACA,mBAQA,YAr6BA,WAs6BA,WACA,qBACA,kBACA,aACA,oBACA,oCACA,mCACA,0CACA,wCAEA,sCAIA,qBACA,aACA,iBACA,2BACA,oBACA,UACA,eACA,QADA,SACA,GACA,8BAIA,UACA,aACA,wBACA,YACA,mBAUA,YA98BA,WA88BA,WACA,kCAEQ,EAAR,oBAMA,QAv9BA,SAu9BA,KAEA,WACA,gBACA,wCAEA,eACA,iBAEA,QAHA,SAGA,GAEA,6CAEA,YACA,+BAGA,KAXA,SAWA,GACA,eACA,sBAMA,SAh/BA,SAg/BA,KACA,aACA,4CAEA,OACA,mBACA,UACA,WACA,aAEA,oBACA,qBACA,eAEA,2BACA,sCACA,6BACA,yBACA,qBACA,qBACA,mCACA,eACA,SACA,gCAOA,kBAzwCA,SAywCA,GACA,OACA,4BACA,0BACA,qC;;;;2DCv7CA,89BAAw6B,eAAG,G;;;;;;;;2DCA36B,s/BAAg8B,eAAG,G","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=57280228&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components = {\n  uNavbar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n    )\n  },\n  uNoticeBar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-notice-bar/u-notice-bar\" */ \"@/uview-ui/components/u-notice-bar/u-notice-bar.vue\"\n    )\n  },\n  uSearch: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n    )\n  },\n  uCalendar: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-calendar/u-calendar\" */ \"@/uview-ui/components/u-calendar/u-calendar.vue\"\n    )\n  },\n  uBadge: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-badge/u-badge\" */ \"@/uview-ui/components/u-badge/u-badge.vue\"\n    )\n  },\n  uModal: function() {\n    return import(\n      /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.menuList[0].detailList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.rSelect1.indexOf(index)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$u.debounce(_vm.orderSearch1, 1000)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<u-navbar  :is-back=\"false\" title=\"接单池\" :height=\"height\" :background=\"this.$background\" title-color=\"#ffffff\" style=\"position: relative;\">\r\n\t\t\t<view class=\"slot-wrap\" @tap=\"openConfirm\">\r\n\t\t\t\t{{address}}\r\n\t\t\t\t<!-- 自定义收藏我的小程序 -->\r\n\t\t\t\t<add-tip :tip=\"tip\" :duration=\"duration\" />\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\t\t\r\n\t\t<mescroll-body ref=\"mescrollRef\" @init=\"mescrollInit\" @down=\"downCallback\" @up=\"upCallback\" :down=\"downOption\" :up=\"upOption\">\r\n\t\t<view class=\"content\">\r\n\t\t\r\n\t\t\t<!-- 地理位置 -->\r\n\t\t\t<!-- <view class=\"location theme\">\r\n\t\t\t\t<span class=\"iconfont icondiliweizhi\"></span>\r\n\t\t\t\t<span>仁寿县</span>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- 滚动通知 -->\r\n\t\t\t<u-notice-bar mode=\"vertical\" :list=\"notice\" :duration=\"2500\" bg-color=\"#E2F7FF\" color=\"#010101\"></u-notice-bar>\r\n\t\t\t<!-- 接单列表 -->\r\n\t\t\t<!-- 收索筛选框 -->\r\n\t\t\t<u-search placeholder=\"姓名,电话,地址\" v-model=\"keyword\" @search = 'orderSearch' @custom=\" $u.debounce(orderSearch1, 1000)\" margin=\"25upx 25upx 25upx 25upx\" style=\"margin-top: 25upx;\"></u-search>\r\n\t\t\t<slFilter :themeColor=\"themeColor\" :menuList=\"menuList\" @result=\"result\" :ref=\"'slFilter'\" @showtime1=\"showtime1\"></slFilter>\r\n\t\t\t<!-- <view class=\"shaixuan\"> -->\r\n\t\t\t\t<!-- <u-button type=\"error\" class=\"showselector \" @click=\"showselector = true\">{{selectortype[0]}}</u-button> -->\r\n\t\t\t\t<!-- <u-button type=\"error\" class=\"showtime\" @click=\"showtime\">时间筛选</u-button> -->\r\n\t\t\t<!-- </view> -->\r\n\t\t\t<!-- <u-popup v-model=\"showpopup\" mode=\"center\" border-radius=\"8\" width=\"80%\" ref=\"popup\"> -->\r\n\t\t\t\t<!-- <view class=\"content1\"> -->\r\n\t\t\t\t\t<!-- <view class=\"signed theme\" @tap=\"searchtime\">筛选</view> -->\r\n\t\t\t\t\t<!-- <ren-calendar ref='ren' :markDays='markDays' :open=\"true\" :disabledAfter='true' :collapsible=\"false\"  @onDayClick='onDayClick'></ren-calendar> -->\r\n\t\t\t\t    <!-- <view class=\"change\">选中日期：{{curDate}}</view> -->\r\n\t\t\t\t<!-- </view> -->\r\n\t\t\t<!-- </u-popup> -->\r\n\t\t\t<!-- <u-picker v-model=\"showtime\" mode=\"time\" :params=\"params\" :show-time-tag=\"true\" @confirm=\"confirmtime\"></u-picker> -->\r\n\t\t\t<!-- 日期选择筛选 -->\r\n\t\t\t<u-calendar v-model=\"showrili\" :mode=\"mode\" @change=\"changetype\" \r\n\t\t\tmax-date=\"2050-01-01\" \r\n\t\t\tactive-bg-color=\"#00ABEB\" \r\n\t\t\tactive-color=\"#ffffff\" \r\n\t\t\trange-bg-color=\"#54C3F1\"\r\n\t\t\t:start-text=\"starttext\"\r\n\t\t\tbtn-type=\"warning\">\r\n\t\t\t\t<view slot=\"tooltip\">\r\n\t\t\t\t\t<view class=\"title\" style=\"text-align: center;line-height: 2.25 !important;display: flex;justify-content: space-around;margin-top: 25upx;\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view style=\"background-color: #00ABEB;\">选择时段：</view>\r\n\t\t\t\t\t\t\t<block v-for=\"(item,index) in noon\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view ref=\"menuItem\" :class=\"[choseminmix ,noonIndex == index?'acmin':'']\" @tap=\"selectnoon1(index)\">{{item}}</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view style=\"background-color: #00ABEB;\">选择时间段：</view>\r\n\t\t\t\t\t\t\t<block v-for=\"(item,index) in actime\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view ref=\"menuItem\" :class=\"[choseminmix ,actimeIndex == index?'acmin':'']\" @tap=\"selectactim(index)\">{{item}}</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view style=\"background-color: #00ABEB;\">选择类型：</view>\r\n\t\t\t\t\t\t\t<block v-for=\"(item,index) in menuList[0].detailList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view ref=\"menuItem\" :class=\"[choseminmix ,{'acmin': rSelect1.indexOf(index)!=-1}]\" @tap=\"selecttype1(index)\">{{item.title}}</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"background-color: #00ABEB;text-align: center;display: flex;justify-content: space-between;\">\r\n\t\t\t\t\t\t时间范围搜索\r\n\t\t\t\t\t\t<view class=\"moshi\" @tap=\"checkmode\">单选</view>\r\n\t\t\t\t\t\t<view class=\"moshi\"  @tap=\"checkmodes\">多选</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</u-calendar>\r\n\t\t\t<!-- 表头 -->\r\n\t\t\t<view class=\"tab-bar\">\r\n\t\t\t\t<block v-for=\"(tab,index) in tabBars\" :key=\"tab.id\">\r\n\t\t\t\t\t<view :class=\"{theme:tabIndex == index}\" @tap=\"xuanzhong(index)\">\r\n\t\t\t\t\t\t{{tab.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<!-- 列表 -->\r\n\t\t\t\r\n\t\t\t<view class=\"uni-tab-bar\">\r\n\t\t\t\t<swiper class=\"swiper-box\" :style=\"{height:swiperheight+'px'}\"  :current=\"tabIndex\" @change=\"tabChange\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<scroll-view  scroll-y=\"true\" class=\"list\">\r\n\t\t\t\t\t\t\t<!-- <mescroll-uni ref=\"mescrollRef\" @init=\"mescrollInit\" @down=\"downCallback\" @up=\"upCallback\" :down=\"downOption\" :up=\"upOption\" > -->\r\n\t\t\t\t\t\t\t\t<template v-if=\"orderlist.length>0\">\r\n\t\t\t\t\t\t\t\t\t<block v-for=\"(item,index) in orderlist\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t<orderList :item=\"item\" :index=\"index\" :tool=\"tool\"  @openModel=\"openModel\"></orderList>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- nothing -->\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<noThing></noThing>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<!-- </mescroll-uni> -->\r\n\t\t\t\t\t\t\t<!-- 上拉加载 -->\r\n\t\t\t\t\t\t\t<!-- <load-more :loadtext=\"loadtext\"></load-more> -->\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<scroll-view  scroll-y=\"true\" class=\"list\"  >\r\n\t\t\t\t\t\t\t<!-- <template v-if=\"takelist.length>0\">\r\n\t\t\t\t\t\t\t\t<block v-for=\"(item,index) in takelist\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<Already :item=\"item\" :index=\"index\" :tool=\"tool\" :jl=\"jl\" @openModel=\"openModel\"></Already>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t\t<!-- nothing -->\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- <mescroll-uni ref=\"mescrollRef1\" @init=\"mescrollInit\" @down=\"downCallback\" @up=\"upCallback\" :down=\"downOption\" :up=\"upOption\" > -->\r\n\t\t\t\t\t\t\t\t<template v-if=\"takelist.length>0\">\r\n\t\t\t\t\t\t\t\t\t<block v-for=\"(item,index) in takelist\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t<Already :item=\"item\" :index=\"index\" :tool=\"tool\" :jl=\"jl\" @openModel=\"openModel\"></Already>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- nothing -->\r\n\t\t\t\t\t\t\t\t<!-- <mescroll-empty v-if=\"orderlist.length==0\" ></mescroll-empty> -->\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t<noThing></noThing>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<!-- </mescroll-uni> -->\r\n\t\t\t\t\t\t\t<!-- 上拉加载 -->\r\n\t\t\t\t\t\t\t<!-- <load-more :loadtext=\"loadtext\"></load-more> -->\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 动态数字角标提醒 -->\r\n\t\t\t<u-badge type=\"error\" :count=\"badgeconts\" style=\"position: absolute;top: 308upx;left: 720upx;\"></u-badge>\r\n\t\t\t<!-- model -->\r\n\t\t\t<u-modal v-model=\"show\" :content=\"content\" :async-close=\"true\"  @confirm=\"confirm\" ref=\"uModal\"></u-modal>\r\n\t\t\t<!-- popup -->\r\n\t\t\t<!-- <u-popup v-model=\"showpopup\" mode=\"center\" border-radius=\"8\" width=\"80%\" ref=\"popup\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"iconfont iconclose\" style=\"text-align: right;font-size: 40upx;color: #CCCCCC;padding-right: 20upx;padding-top: 20upx;\"\r\n\t\t\t\t\t @tap=\"close\"></view>\r\n\t\t\t\t\t<h2 style=\"text-align: center;font-size: 40upx;font-weight: bold;margin-top: 30upx;margin-bottom: 60upx;\">温馨提示</h2>\r\n\t\t\t\t\t<p style=\"padding-left: 50upx;padding-right: 50upx;margin-bottom: 30upx;line-height: 1.8;\">您已经成功参与抢单，该订单需要平台工作人员进行人工审核；审核通过后请到“订单”列表查看具体订单信息并且联系客户预约上门进行服务</p>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup> -->\r\n\t\t</view>\r\n\t\t </mescroll-body>\r\n\t</view>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\tconst Mock = require(\"../../common//mock.mp.js\");\r\n\timport md5 from \"../../common/md5.min.js\";\r\n\t//引入小程序微信小程序JavaScriptSDK\r\n\tconst QQMapWX = require('../../libs/qqmap-wx-jssdk.js');\r\n\tvar bmap = require('../../libs/bmap-wx.js');\r\n\timport loadMore from \"../../components/common/load-more.vue\";\r\n\timport addTip from \"../../components/struggler-uniapp-add-tip/struggler-uniapp-add-tip\";\r\n\timport noThing from \"../../components/common/no-thing.vue\";\r\n\timport orderList from \"../../components/index/orderlist.vue\";\r\n\timport Already from \"../../components/index/already.vue\";\r\n\timport MescrollMixin from \"@/components/mescroll-uni/mescroll-mixins.js\";\r\n\timport MescrollEmpty from '@/components/mescroll-uni/components/mescroll-empty.vue';\r\n\timport slFilter from '@/components/sl-filter/sl-filter.vue';\r\n\timport RenCalendar from '@/components/ren-calendar/ren-calendar.vue'\r\n\texport default {\r\n\t\tmixins: [MescrollMixin],\r\n\t\tcomponents: {\r\n\t\t\tloadMore,\r\n\t\t\taddTip,\r\n\t\t\tnoThing,\r\n\t\t\torderList,\r\n\t\t\tAlready,\r\n\t\t\tMescrollEmpty,\r\n\t\t\tslFilter,\r\n\t\t\tRenCalendar\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttown:\"\",\r\n\t\t\t\tmode:\"range\",\r\n\t\t\t\tnoon:[\r\n\t\t\t\t\t\"上午\",\r\n\t\t\t\t\t\"下午\"\r\n\t\t\t\t],\r\n\t\t\t\tactimeIndex:0,\r\n\t\t\t\tnoonIndex:0,\r\n\t\t\t\tselectnoon:0,\r\n\t\t\t\tacmin:true,\r\n\t\t\t\tactime:[\r\n\t\t\t\t\t\"不限时\",\r\n\t\t\t\t\t\"2小时\",\r\n\t\t\t\t\t\"3小时\",\r\n\t\t\t\t\t\"4小时\",\r\n\t\t\t\t\t\"5小时\",\r\n\t\t\t\t\t\"6小时\",\r\n\t\t\t\t],\r\n\t\t\t\tselectactime:1,\r\n\t\t\t\tselectdetaillist:[],\r\n\t\t\t\trSelect: [],\r\n\t\t\t\trSelect1: [],\r\n\t\t\t\tchoseminmix:\"choseminmix\",\r\n\t\t\t\tstarttext:\"开始\",\r\n\t\t\t\tshowpopup:false,\r\n\t\t\t\tthemeColor:\"#00ABEB\",\r\n\t\t\t\t// filterResult: '',\r\n\t\t\t\tmenuList: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t        'title': '服务类型',\r\n\t\t\t\t\t        'detailTitle': '请选择职位类型（可多选）',\r\n\t\t\t\t\t        'isMutiple': true,\r\n\t\t\t\t\t        'key': 'jobType',\r\n\t\t\t\t\t        'detailList': [\r\n\t\t\t\t\t            \r\n\t\t\t\t\t        ]\r\n\t\t\t\t\t    },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t       'title': '时间筛选',\r\n\t\t\t\t\t\t       'detailTitle': '请选择时间段（可多选）',\r\n\t\t\t\t\t\t       'isMutiple': true,\r\n\t\t\t\t\t\t       'key': 'jobType',\r\n\t\t\t\t\t\t       'detailList': [\r\n\t\t\t\t\t\t           \r\n\t\t\t\t\t\t       ]\r\n\t\t\t\t\t\t   },\r\n\t\t\t\t],\r\n\t\t\t\tselectortype:[1,2,3],\r\n\t\t\t\tparams: {\t\r\n\t\t\t\t\t\t\tyear: true,\r\n\t\t\t\t\t\t\tmonth: true,\r\n\t\t\t\t\t\t\tday: true,\r\n\t\t\t\t\t\t\thour: false,\r\n\t\t\t\t\t\t\tminute: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\tshowselector:false,\r\n\t\t\t\tshowtime:false,\r\n\t\t\t\tshowrili:false,\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tupOption:{\r\n\t\t\t\t\tuse:true\r\n\t\t\t\t},\r\n\t\t\t\tdownOption:{\r\n\t\t\t\t\tauto:false,\r\n\t\t\t\t},\r\n\t\t\t\t// distance:[],\r\n\t\t\t\tbadgeconts:0,\r\n\t\t\t\ttriggered: true,\r\n\t\t\t\tphone:1,\r\n\t\t\t\ttool:[],\r\n\t\t\t\tjl:[],\r\n\t\t\t\tlatitude: '',\r\n\t\t\t\tlongitude: \"\",\r\n\t\t\t\ttip: \"点击「添加小程序」，下次访问更便捷\",\r\n\t\t\t\tduration: 1,\r\n\t\t\t\tistype: \"\",\r\n\t\t\t\taddress: \"当前位置\",\r\n\t\t\t\theight: \"\",\r\n\t\t\t\tbackground: {\r\n\t\t\t\t\tbackgroundImage: \"linear-gradient(90deg, #54C3F1, #00ABEB)\",\r\n\t\t\t\t},\r\n\t\t\t\tuser_uid: \"\",\r\n\t\t\t\tshowpopup: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tcontent: '您已经成功参与抢单，该订单需要平台工作人员进行人工审核；审核通过后请到“订单”列表查看具体订单信息并且联系客户预约上门进行服务',\r\n\t\t\t\tloadtext: \"上拉加载更多\",\r\n\t\t\t\tnotice: [],\r\n\t\t\t\tswiperheight: 500,\r\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\ttabBars: [{\r\n\t\t\t\t\t\tname: \"待抢单\",\r\n\t\t\t\t\t\tid: \"daiqiangdan\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"已抢单\",\r\n\t\t\t\t\t\tid: \"yiqiangdan\"\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t],\r\n\t\t\t\torderlist: [],\r\n\t\t\t\ttakelist:[],\r\n\t\t\t\tpage:1,\r\n\t\t\t\tistake:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t},\r\n\t\t  /* 监听方法  开始*/\r\n\t\twatch:{\r\n\t\t\ttown(val){\r\n\t\t\t\tconsole.log(val,\"监听方法\");\r\n\t\t\t\tconsole.log(this.$background);\r\n\t\t\t},\r\n\t\t\t/* num(val){\r\n\t\t\t\tconsole.log(val,\"监听方法\");\r\n\t\t\t} */\r\n\t\t\t/* 也可以写成  上面是 es6 新大地写法，更方便整洁*/\r\n\t\t\t// num:function(val){\r\n\t\t\t// \tconsole.log(val,\"监听方法\");\r\n\t\t\t// }\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t//检查登录授权\r\n\t\t\t// 检查登录是否过期\r\n\t\t\t// async function (){\r\n\t\t\t\t\r\n\t\t\t// }\r\n\t\t\t//判断用户是否注册服务工种,获取缓存里面的值\r\n\t\t\tthis.user_uid = uni.getStorageSync('uid');\r\n\t\t\tthis.phone = uni.getStorageSync('phone');\r\n\t\t\t\r\n\t\t\tthis.checklogin();\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tuni.hideLoading({\r\n\t\t\t\t\ttitle:\"加载中\",\r\n\t\t\t\t\tduration:1500\r\n\t\t\t\t});\r\n\t\t\t\tthis.getWOrkstay();\r\n\t\t\t},1500);\r\n\t\t\t\r\n\t\t\tconsole.log(\"重新排序\");\r\n\t\t\t// let promise = new Promise((resolve,reject)=>{\r\n\t\t\t// \tresolve('res')\r\n\t\t\t// \treject('res')\r\n\t\t\t// });\r\n\t\t\t// promise.then(res=>{\r\n\t\t\t// \tthis.checklogin();\r\n\t\t\t// }).then(res=>{\r\n\t\t\t// \tthis.getLocationInfo();\r\n\t\t\t// }).then(res=>{\r\n\t\t\t// \tthis.getWOrkstay();\r\n\t\t\t// })\r\n\t\t},\r\n\t\t\r\n\t\tcomputed:{\r\n\t\t\t//重新排序待派单订单\r\n\t\t\tsortOrderlist(){\r\n\t\t\t\tfor (var i = 0; i < this.orderlist.length; i++) {\r\n\t\t\t\t\tlet location = this.orderlist[i].longitude;\r\n\t\t\t\t\tlet str1 = location.split(\",\")[0];\r\n\t\t\t\t\tstr1 = str1.substring(0,9);\r\n\t\t\t\t\tlet str2 = location.split(\",\")[1];\r\n\t\t\t\t\tstr2 = str2.substring(0,9);\r\n\t\t\t\t\tvar longitude = str1;\r\n\t\t\t\t\tvar latitude = str2;\r\n\t\t\t\t\tlet latitude1 = uni.getStorageSync(\"latitude\");\r\n\t\t\t\t\tlet longitude1 = uni.getStorageSync(\"longitude\");\r\n\t\t\t\t\tvar jl = this.countDistance(latitude1, longitude1, latitude, longitude);\r\n\t\t\t\t\tjl = Math.floor(jl/1000 * 10) / 10;\r\n\t\t\t\t\t// this.distance =this.distance.push(jl);\r\n\t\t\t\t\tconsole.log(\"距离\");\r\n\t\t\t\t\t// console.log(this.distance);\r\n\t\t\t\t\tthis.orderlist[i].jl = jl;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tfunction compare(property){\r\n\t\t\t\t    return function(a,b){\r\n\t\t\t\t        var value1 = a[property];\r\n\t\t\t\t        var value2 = b[property];\r\n\t\t\t\t        return value1 - value2;\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t\treturn this.orderlist.sort(compare('jl'));\r\n\t\t\t\tconsole.log(\"排序\");\r\n\t\t\t\tconsole.log(this.orderlist.sort(compare('jl')));\r\n\t\t\t},\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tonLoad(event) {\r\n\t\t\t//获取用户信息\r\n\t\t\tthis.getInfo();\r\n\t\t\tconsole.log(\"页面类型111111\");\r\n\t\t\tconsole.log(this.menuList);\r\n\t\t\tlet tabbar = event.e;\r\n\t\t\tconsole.log(\"传值e:\");\r\n\t\t\tconsole.log(tabbar);\r\n\t\t\tthis.tabIndex = tabbar;\r\n\t\t\t// this.checklogin();\r\n\t\t\tvar that = this;\r\n\t\t\tthis.getAuthorizeInfo();\r\n\t\t\t// 获取scoll-view高度值\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t// console.log(res.windowHeight);\r\n\t\t\t\t\tlet height = res.windowHeight - uni.upx2px(532);\r\n\t\t\t\t\tthis.swiperheight = height;\r\n\t\t\t\t\tconsole.log(this.swiperheight);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// mock数据通知栏\r\n\t\t\tthis.getNavbar();\r\n\t\t\t//判断用户是否注册服务工种,获取缓存里面的值\r\n\t\t\t// this.user_uid = uni.getStorageSync('uid');\r\n\t\t\t// this.phone = uni.getStorageSync('phone');\r\n\t\t\t// uni.setStorageSync(\"badgecont\",this.badgecont);\r\n\t\t\tconsole.log(\"uid的值:\"+this.user_uid);\r\n\t\t\t//加载mock假数据\r\n\t\t\t// let data = this.getmock();\r\n\t\t\t// this.orderlist = data.orderlist;\r\n\t\t\t// console.log(this.orderlist);\r\n\t\t\tthis._freshing = false;\r\n\t\t\tuni.$on('updatebadgecont',function(badgecont){\r\n\t\t\t         console.log('监听到事件来自 update ，携带参数 msg 为：' + badgecont.badgecont);\r\n\t\t\t\t\t that.badgeconts++;\r\n\t\t\t\t\t that.tabIndex = 1;\r\n\t\t\t\t\t console.log(that.badgeconts);\r\n\t\t\t});\r\n\t\t\t// this.selectdetaillist = this.menuList[0].detailList[0].title+',';\r\n\t\t},\r\n\t\t// onPullDownRefresh() {\r\n\t\t// \tthis.getWOrkstay();\r\n\t\t// \tthis.getAlready();\r\n\t\t// \tconsole.log(\"下拉刷新\");\r\n\t\t// },\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t//选择模式\r\n\t\t\tcheckmode(){\r\n\t\t\t\tthis.mode = \"date\";\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcheckmodes(){\r\n\t\t\t\tthis.mode = \"range\";\r\n\t\t\t},\r\n\t\t\t//选择复合类型\r\n\t\t\t//选择上下午\r\n\t\t\tselectnoon1(index){\r\n\t\t\t\tthis.noonIndex = index;\r\n\t\t\t\tthis.selectnoon = index;\r\n\t\t\t},\r\n\t\t\t//选择时间分类服务\r\n\t\t\tselectactim(index) {\r\n\t\t\t\tthis.actimeIndex= index;\r\n\t\t\t\tthis.selectactime = index;\r\n\t\t\t},\r\n\t\t\t//选择类型服务\r\n\t\t\tselecttype1(e) {\r\n\t\t\t\tif (this.rSelect1.indexOf(e) == -1) {\r\n\t\t\t\t\tconsole.log(e) //打印下标\r\n\t\t\t\t\tthis.rSelect1.push(e); //选中添加到数组里\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.selectdetaillist.push(this.menuList[0].detailList[e].title);\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rSelect1.splice(this.rSelect1.indexOf(e), 1); //取消\r\n\t\t\t\t\tthis.selectdetaillist.splice(this.selectdetaillist.indexOf(e), 1); //取消\r\n\t\t\t\t\t// tthis.selectdetaillist.splice(this.selectdetaillist.indexOf(e), 1); //取消\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取选中属性的值\r\n\t\t\t\r\n\t\t\t//筛选复合类型\r\n\t\t\tchangetype(e){\r\n\t\t\t\tconsole.log(\"选中类型有哪些\");\r\n\t\t\t\tconsole.log(this.selectdetaillist);\r\n\t\t\t\tlet typestring =this.selectdetaillist.toString();\r\n\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\tif(typestring == \"\"){\r\n\t\t\t\t\te.type = str.split(',');\r\n\t\t\t\t\te.startDate = \"\";\r\n\t\t\t\t\te.endDate = \"\";\r\n\t\t\t\t\tconsole.log(\"如果没有选择\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\te.type = typestring;//选择类型\r\n\t\t\t\t\tconsole.log(\"如果有选择\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.timesolt = this.selectactime;//时间段选择\r\n\t\t\t\te.noon = this.selectnoon;//上下午选择\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\t\r\n\t\t\t\tlet town = uni.getStorageSync(\"town\");\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\"genre\": e.type,\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t\"start_time\":e.startDate,\r\n\t\t\t\t\t\t\"end_time\":e.endDate,\r\n\t\t\t\t\t\t\"noon\":e.noon,\r\n\t\t\t\t\t\t\"duration\":e.timesolt,\r\n\t\t\t\t\t\t\"date\":e.result,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//打开时间\r\n\t\t\tshowtime1(){\r\n\t\t\t\tthis.showrili = true\r\n\t\t\t\tconsole.log('aaa');\r\n\t\t\t},\r\n\t\t\t//日历\r\n\t\t\tsearchtime(){\r\n\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\"genre\": type,\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t\"date\":this.curDate\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonDayClick(data){\r\n\t\t\t    this.curDate = data.date;\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//筛选类型\r\n\t\t\tresult(val) {\r\n\t\t\t\tconsole.log(JSON.stringify(val));\r\n\t\t\t\tthis.filterResult = JSON.stringify(val, null, 2);\r\n\t\t\t\tlet arr = JSON.parse(this.filterResult).jobType;\r\n\t\t\t\tlet selecttype =  arr.toString();\r\n\t\t\t\tconsole.log(selecttype);\r\n\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\"genre\": selecttype,\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t },\r\n\t\t\tconfirmtype(res){\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tconfirmtime(res){\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tlet date = res.year+res.month+res.day;\r\n\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\tconsole.log(this.keyword);\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\"genre\": type,\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t\"date\":date\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//搜索\r\n\t\t\torderSearch(){\r\n\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\tconsole.log(this.keyword);\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\"genre\": type,\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t\"search\":this.keyword\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//搜索\r\n\t\t\torderSearch1(){\r\n\t\t\t\tconsole.log(this.keyword);\r\n\t\t\t\tif(this.keyword){\r\n\t\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\t\tconsole.log(this.keyword);\r\n\t\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\t\"genre\": type,\r\n\t\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t\t\"search\":this.keyword\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:\"暂无相关订单\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//获取用户信息\r\n\t\t\tgetInfo(){\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'user/getInfo',\r\n\t\t\t\t\tdata:{},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.data = res.data.data\r\n\t\t\t\t\t\tconsole.log(\"获取服务器类型数据\");\r\n\t\t\t\t\t\tconsole.log(res.data.data.type);\r\n\t\t\t\t\t\tlet type = res.data.data.type.split(',');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet menuListItem = {\r\n\t\t\t\t\t\t    'title': '服务类型',\r\n\t\t\t\t\t\t    'detailTitle': '请选择服务类型（可多选）',\r\n\t\t\t\t\t\t    'isMutiple': true,\r\n\t\t\t\t\t\t    'key': 'jobType',\r\n\t\t\t\t\t\t    'detailList': []\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tfor (var i = 0; i < type.length; i++) {\r\n\t\t\t\t\t\t\tlet objitem = {\r\n\t\t\t\t\t\t\t\ttitle: 'new_1',\r\n\t\t\t\t\t\t\t\tvalue: 'new_1'\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t objitem.title = type[i];\r\n\t\t\t\t\t\t\t objitem.value = type[i];\r\n\t\t\t\t\t\t\t menuListItem.detailList.push(objitem);\r\n\t\t\t\t\t\t\t console.log(\"获取类型数据\");\r\n\t\t\t\t\t\t\t console.log(menuListItem.detailList);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.menuList[0] = menuListItem;\r\n\t\t\t\t\t\tthis.$refs.slFilter.resetMenuList(this.menuList)\r\n\t\t\t\t\t\tthis.selectortype = type;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// console.log(this.selectortype);\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//筛选搜索\r\n\r\n\t\t\t/*下拉刷新的回调 */\r\n\t\t\tdownCallback() {\r\n\t\t\t\t// 这里加载你想下拉刷新的数据, 比如刷新轮播数据\r\n\t\t\t\t// loadSwiper();\r\n\t\t\t\tthis.getWOrkstay();\r\n\t\t\t\tthis.getAlready();\r\n\t\t\t\t// 下拉刷新的回调,默认重置上拉加载列表为第一页 (自动执行 page.num=1, 再触发upCallback方法 )\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.mescroll.endSuccess();\r\n\t\t\t\t\t// console.log('111');\r\n\t\t\t\t},1500)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// tabs通知swiper切换\r\n\t\t\t//tabbar点击事件\r\n\t\t\txuanzhong(index) {\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t\tconsole.log(index);\r\n\t\t\t\t// this.getWOrkstay();\r\n\t\t\t},\r\n\t\t\t//滑动切换\r\n\t\t\ttabChange(e) {\r\n\t\t\t\tthis.tabIndex = e.detail.current;\r\n\t\t\t\tif(e.detail.current == 0){\r\n\t\t\t\t\t\t// this.getWOrkstay();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(e.detail.current == 1){\r\n\t\t\t\t\t\tthis.getAlready();\r\n\t\t\t\t\t\t// this.$refs.popup.open();\r\n\t\t\t\t\t\tthis.badgeconts = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//上拉加载\r\n\t\t\tloadmore() {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\tif(!this.show){\r\n\t\t\t\t\tthis.requestMsg();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// model,发送抢单请求\r\n\t\t\topenModel(index) {\r\n\t\t\t\tlet phone = uni.getStorageSync('phone');\r\n\t\t\t\tconsole.log(phone);\r\n\t\t\t\tif (phone) {\r\n\t\t\t\t\tlet indextag = true;\r\n\t\t\t\t\tif(indextag){\r\n\t\t\t\t\t\tindextag = false;\r\n\t\t\t\t\t\tthis.istake = true;\r\n\t\t\t\t\t\tconsole.log(this.istake);\r\n\t\t\t\t\t\tlet that = this;\r\n\t\t\t\t\t\tlet code = that.orderlist[index].code;\r\n\t\t\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\t\t\turl:'work/take',\r\n\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\tuid:this.user_uid,\r\n\t\t\t\t\t\t\t\tcode:code,//订单编号\r\n\t\t\t\t\t\t\t\tWorkNautica:[this.longitude,this.latitude],\r\n\t\t\t\t\t\t\t\tphone:phone\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t\tthis.badgeconts++;\r\n\t\t\t\t\t\t\t\tthis.orderlist.splice(index,1);\r\n\t\t\t\t\t\t\t\tthis.show = true;\r\n\t\t\t\t\t\t\t\tthis.takelist = res.data.data;\r\n\t\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t\t\t\t    content: res.data.msg,\r\n\t\t\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// uni.request({\r\n\t\t\t\t\t\t// \turl:this.$apiUrl+\"work/take\",\r\n\t\t\t\t\t\t// \tmethod:\"POST\",\r\n\t\t\t\t\t\t// \tdataType:JSON,\r\n\t\t\t\t\t\t// \tdata:{\r\n\t\t\t\t\t\t// \t\tuid:this.user_uid,\r\n\t\t\t\t\t\t// \t\tcode:code,//订单编号\r\n\t\t\t\t\t\t// \t\tWorkNautica:[this.longitude,this.latitude],\r\n\t\t\t\t\t\t// \t\tphone:phone\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \tsuccess(res) {\r\n\t\t\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t\t\t// \t\tconsole.log(\"当前点击的为：\"+index);\r\n\t\t\t\t\t\t// \t\tif(res.code = 200){\r\n\t\t\t\t\t\t// \t\t\t//抢单成功体醒\r\n\t\t\t\t\t\t// \t\t\tthat.show = true;\r\n\t\t\t\t\t\t// \t\t\t//删除该订单\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t// \t\t\tthat.badgeconts++;\r\n\t\t\t\t\t\t// \t\t\t that.orderlist.splice(index,1);\r\n\t\t\t\t\t\t// \t\t}else{\r\n\t\t\t\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t\t\t\t// \t\t\t\ttitle:\"无网络!\"\r\n\t\t\t\t\t\t// \t\t\t})\r\n\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \tfail() {\r\n\t\t\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t    title: '提示',\r\n\t\t\t\t\t    content: '请先完成师傅服务类型注册，在抢单',\r\n\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t\t            console.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t//如果没有手机说明用户没有注册跳转\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:\"../register/register\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t\t            console.log('用户点击取消');\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tlet code  = this.orderlist[index].code;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t//请求一次\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:indextag\r\n\t\t\t\t})\r\n\t\t\t\tlet indextag = true;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//closemode\r\n\t\t\tclose() {\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},\r\n\t\t\t//openpage\r\n\t\t\topenWaitlist() {\r\n\t\t\t\t//判断用户类型值是否存在，\r\n\t\t\t\t//接受一个判断师傅类型的参数\r\n\t\t\t\t// const urlpath = \"'../wait-list/wait-list'\";\r\n\t\t\t\t// const ydurl = \"../settlement/settlement\";\r\n\t\t\t\t// const openurl = \"\";\r\n\t\t\t\t// this.istype ? openurl = urlpath : openurl = ydurl;\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: openurl,\r\n\t\t\t\t// })\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:this.$apiUrl+\"work/already\",\r\n\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\tdataType:JSON,\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tuid:this.user_uid\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"已抢单\");\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//计算距离\r\n\t\t\t//计算两点直线路径\r\n\t\t\tcountDistance(la1, lo1, la2, lo2) {\r\n\t\t\t\tvar FINAL = 6378137.0\r\n\t\t\t\t/** \r\n\t\t\t\t * 求某个经纬度的值的角度值 \r\n\t\t\t\t * @param {Object} d \r\n\t\t\t\t */\r\n\t\t\t\tfunction calcDegree(d) {\r\n\t\t\t\t\treturn d * Math.PI / 180.0;\r\n\t\t\t\t}\r\n\t\t\t\t/** \r\n\t\t\t\t * 根据两点经纬度值，获取两地的实际相差的距离 \r\n\t\t\t\t * @param {Object} f    第一点的坐标位置[latitude,longitude] \r\n\t\t\t\t * @param {Object} t    第二点的坐标位置[latitude,longitude] \r\n\t\t\t\t */\r\n\t\t\t\tvar flat = calcDegree(la1);\r\n\t\t\t\tvar flng = calcDegree(lo1);\r\n\t\t\t\tvar tlat = calcDegree(la2);\r\n\t\t\t\tvar tlng = calcDegree(lo2);\r\n\t\t\t\tvar result = Math.sin(flat) * Math.sin(tlat);\r\n\t\t\t\tresult += Math.cos(flat) * Math.cos(tlat) * Math.cos(flng - tlng);\r\n\t\t\t\treturn Math.acos(result) * FINAL;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//获取通知栏信息\r\n\t\t\tgetNavbar(){\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/msg',\r\n\t\t\t\t\tdata:{},\r\n\t\t\t\t\tmethods:\"GET\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\tthis.notice = res.data.data;\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// const Random = Mock.Random;\r\n\t\t\t\t// Random.county();\r\n\t\t\t\t// Random.cname();\r\n\t\t\t\t// Random.city();\r\n\t\t\t\t// Random.datetime();\r\n\t\t\t\t// const data = Mock.mock({\r\n\t\t\t\t// \t'list|3': [{\r\n\t\t\t\t// \t\tname: \"@cname()\",\r\n\t\t\t\t// \t\tcity: '@city(true)',\r\n\t\t\t\t// \t\t\"type|+1\": [\r\n\t\t\t\t// \t\t\t\"日常保洁\",\r\n\t\t\t\t// \t\t\t\"开荒保洁\",\r\n\t\t\t\t// \t\t\t\"上门除甲醛\",\r\n\t\t\t\t// \t\t\t\"上门维修\",\r\n\t\t\t\t// \t\t]\r\n\t\t\t\t// \t}]\r\n\t\t\t\t// });\r\n\t\t\t\t// for (var i = 0; i < data.list.length; i++) {\r\n\t\t\t\t// \tvar str = \"恭喜--\" + data.list[i].name + \"--抢到\" + data.list[i].city + \"--\" + data.list[i].type + \"--订单\";\r\n\t\t\t\t// \tthis.notice.push(str);\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//获取待派单列表信息\r\n\t\t\tasync getWOrkstay(){\r\n\t\t\t\tlet phone = uni.getStorageSync('phone');\r\n\t\t\t\tif(phone){\r\n\t\t\t\t\t// console.log(\"data里面的地理精度\");\r\n\t\t\t\t\t// console.log(this.latitude);\r\n\t\t\t\t\tlet that  =this;\r\n\t\t\t\t\tlet str = uni.getStorageSync(\"type\");\r\n\t\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t// console.log(cookie);\r\n\t\t\t\t\tlet type = str.split(\",\");\r\n\t\t\t\t\t// await this.getAllClass();\r\n\t\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\t\"genre\": type,\r\n\t\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet that  =this;\r\n\t\t\t\t\tlet town = uni.getStorageSync(\"town\");\r\n\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t// console.log(cookie);\r\n\r\n\t\t\t\t\t// await this.getAllClass();\r\n\t\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\t\turl:'work/stay',\r\n\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\"town\":town ,\r\n\t\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t\tthis.orderlist = res.data.data;\r\n\t\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//这里只需要传入不同的接口地址就可以\r\n\t\t\t\t// console.log(res);\r\n\r\n\t\t\t\t// uni.request({\r\n\t\t\t\t// \turl: this.$apiUrl+\"work/stay\",\r\n\t\t\t\t// \tmethod: \"POST\",\r\n\t\t\t\t// \tdataType: JSON,\r\n\t\t\t\t// \theader:{\r\n\t\t\t\t// \t\t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t// \t\t 'cookie':cookie//读取cookie\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tdata: {\r\n\t\t\t\t// \t\t\"town\":town ,\r\n\t\t\t\t// \t\t\"genre\": type,\r\n\t\t\t\t// \t\t\"uid\": this.user_uid,\r\n\t\t\t\t// \t\t\"token\":token\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tsuccess(res) {\r\n\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t// \t\t// uni.stopPullDownRefresh();\r\n\t\t\t\t// \t\tconst data = JSON.parse(res.data);\r\n\t\t\t\t// \t\tconsole.log(data.data);\r\n\t\t\t\t// \t\tif(data.code == 200){\r\n\t\t\t\t// \t\t\t// console.log(res)\r\n\t\t\t\t\r\n\t\t\t\t// \t\t\t// that.mescroll.endSuccess();\r\n\t\t\t\t// \t\t\tthat.orderlist = data.data;\r\n\t\t\t\t// \t\t\t// this.triggered = true;\r\n\t\t\t\t// \t\t\tconsole.log(\"订单列表:\");\r\n\t\t\t\t// \t\t\tconsole.log(that.orderlist);\r\n\t\t\t\t// \t\t\t//计算经纬度距离和循环遍历工具要求\r\n\t\t\t\t// \t\t\t// for (var i = 0; i < that.orderlist.length; i++) {\r\n\t\t\t\t// \t\t\t// \tconsole.log(\"订单数据长度\"+that.orderlist.length);\r\n\t\t\t\t// \t\t\t// \tvar location = that.orderlist[i].longitude;\r\n\t\t\t\t// \t\t\t// \t// console.log(location);\r\n\t\t\t\t// \t\t\t// \t// let index = str .lastIndexOf(\">\")\r\n\t\t\t\t// \t\t\t// \t//客户距离\r\n\t\t\t\t// \t\t\t// \tlet str1 = location.split(\",\")[0];\r\n\t\t\t\t// \t\t\t// \tstr1 = str1.substring(0,9);\r\n\t\t\t\t// \t\t\t// \tlet str2 = location.split(\",\")[1];\r\n\t\t\t\t// \t\t\t// \tstr2 = str2.substring(0,9);\r\n\t\t\t\t// \t\t\t// \tconsole.log(\"str1-\"+str1);\r\n\t\t\t\t// \t\t\t// \tvar longitude = str1;\r\n\t\t\t\t// \t\t\t// \tvar latitude = str2;\r\n\t\t\t\t// \t\t\t// \t//计算距离\r\n\t\t\t\t// \t\t\t// \tlet latitude1 = uni.getStorageSync(\"latitude\");\r\n\t\t\t\t// \t\t\t// \tlet longitude1 = uni.getStorageSync(\"longitude\");\r\n\t\t\t\t// \t\t\t// \t//我的距离\r\n\t\t\t\t// \t\t\t// \tconsole.log(that.latitude);\r\n\t\t\t\t// \t\t\t// \tconsole.log(that.longitude);\r\n\t\t\t\t// \t\t\t// \tconsole.log(latitude);\r\n\t\t\t\t// \t\t\t// \tconsole.log(longitude);\r\n\t\t\t\t// \t\t\t// \tvar jl = that.countDistance(latitude1, longitude1, latitude, longitude);\r\n\t\t\t\t// \t\t\t// \tjl = Math.floor(jl/1000 * 10) / 10;\r\n\t\t\t\t// \t\t\t// \tthat.jl = that.jl.concat(jl);\r\n\t\t\t\t// \t\t\t// \tconsole.log(\"距离\");\r\n\t\t\t\t// \t\t\t// \tconsole.log(that.jl);\r\n\t\t\t\t// \t\t\t// }\r\n\t\t\t\t// \t\t}else if(data.code == 300){\r\n\t\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t\t// \t\t\t\ttitle:\"该地区没有相关工单\"\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse{\r\n\t\t\t\t// \t\t\tconsole.log(res);\r\n\t\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t\t// \t\t\t\ttitle:\"无网络\"\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tfail(err) {\r\n\t\t\t\t// \t\tconsole.log(err);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//获取已抢单列表信息\r\n\t\t\tgetAlready(){\r\n\t\t\t\tthis.$myRequest({\r\n\t\t\t\t\turl:'work/already',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\"uid\": this.user_uid,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethods:\"POST\"\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t// const data = JSON.parse(res.data);\r\n\t\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\tthis.takelist = res.data.data;\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else if(res.data.code == 300){\r\n\t\t\t\t\t\tconsole.log(res.data.msg);\r\n\t\t\t\t\t\t// this.mescroll.endSuccess();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// let that  =this;\r\n\t\t\t\t// uni.request({\r\n\t\t\t\t// \turl: this.$apiUrl+\"work/already\",\r\n\t\t\t\t// \tmethod: \"POST\",\r\n\t\t\t\t// \tdataType: JSON,\r\n\t\t\t\t// \tdata: {\r\n\t\t\t\t// \t\tuid: this.user_uid\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \t success(res) {\r\n\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t// \t\tconst data = JSON.parse(res.data);\r\n\t\t\t\t// \t\tconsole.log(data.data);\r\n\t\t\t\t// \t\t// uni.stopPullDownRefresh();\r\n\t\t\t\t// \t\tif(data.code == 200){\r\n\t\t\t\t// \t\t\t// console.log(res)\r\n\t\t\t\t// \t\t\tthat.takelist = data.data;\r\n\t\t\t\t// \t\t\t// console.log(\"已抢单订单列表:\");\r\n\t\t\t\t// \t\t\t// console.log(that.takelist);\r\n\t\t\t\t// \t\t\t// // var jl = await that.countDistance( 39.923423,116.368904,116.387271,39.922501);\r\n\t\t\t\t// \t\t\t// // console.log(\"距离\"+jl);\r\n\t\t\t\t// \t\t\t// //计算经纬度距离\r\n\t\t\t\t// \t\t\tfor (var i = 0; i < that.takelist.length; i++) {\r\n\t\t\t\t// \t\t\t\tconsole.log(\"订单数据长度\"+that.takelist.length);\r\n\t\t\t\t// \t\t\t\tvar location = that.takelist[i].longitude;\r\n\t\t\t\t// \t\t\t\t// console.log(location);\r\n\t\t\t\t// \t\t\t\t// let index = str .lastIndexOf(\">\")\r\n\t\t\t\t// \t\t\t\t//客户距离\r\n\t\t\t\t// \t\t\t\tlet str1 = location.split(\",\")[0];\r\n\t\t\t\t// \t\t\t\tstr1 = str1.substring(0,9);\r\n\t\t\t\t// \t\t\t\tlet str2 = location.split(\",\")[1];\r\n\t\t\t\t// \t\t\t\tstr2 = str2.substring(0,9);\r\n\t\t\t\t// \t\t\t\tconsole.log(\"str1-\"+str1);\r\n\t\t\t\t// \t\t\t\tvar longitude = str1;\r\n\t\t\t\t// \t\t\t\tvar latitude = str2;\r\n\t\t\t\t// \t\t\t\t//计算距离\r\n\t\t\t\t// \t\t\t\tlet latitude1 = uni.getStorageSync(\"latitude\");\r\n\t\t\t\t// \t\t\t\tlet longitude1 = uni.getStorageSync(\"longitude\");\r\n\t\t\t\t// \t\t\t\t//我的距离\r\n\t\t\t\t// \t\t\t\tconsole.log(that.latitude);\r\n\t\t\t\t// \t\t\t\tconsole.log(that.longitude);\r\n\t\t\t\t// \t\t\t\tconsole.log(latitude);\r\n\t\t\t\t// \t\t\t\tconsole.log(longitude);\r\n\t\t\t\t// \t\t\t\tvar jl = that.countDistance(latitude1, longitude1, latitude, longitude);\r\n\t\t\t\t// \t\t\t\tjl = Math.floor(jl/1000 * 10) / 10;\r\n\t\t\t\t// \t\t\t\tthat.jl = jl;\r\n\t\t\t\t// \t\t\t\tconsole.log(\"距离\");\r\n\t\t\t\t// \t\t\t\tconsole.log(that.jl);\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse if(data.code == 300){\r\n\t\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t\t// \t\t\t\ttitle:\"无最新工单\",\r\n\t\t\t\t// \t\t\t\tduration:2000\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse{\r\n\t\t\t\t// \t\t\tconsole.log(res);\r\n\t\t\t\t// \t\t\tuni.showToast({\r\n\t\t\t\t// \t\t\t\ttitle:\"无网络\"\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tfail(err) {\r\n\t\t\t\t// \t\tconsole.log(err);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//mock假数据\r\n\t\t\tgetmock(){\r\n\t\t\t\t//如果用户没有注册使用假数据\r\n\t\t\t\tconst Random = Mock.Random;\r\n\t\t\t\tRandom.id();\r\n\t\t\t\tRandom.county();\r\n\t\t\t\tRandom.datetime()\r\n\t\t\t\tconst orderData = Mock.mock({\r\n\t\t\t\t\t\t'orderlist|30-50': [{\r\n\t\t\t\t\t\t\t\"Distance|1-100.2\":1,\r\n\t\t\t\t\t\t\t\"budget|100-500\": 500,\r\n\t\t\t\t\t\t\tcode: '@id()',\r\n\t\t\t\t\t\t\t\"content|1\": [\"日常保洁\",\"开荒保洁\",\"上门除甲醛\",\"家电维修\"],\r\n\t\t\t\t\t\t\tdelete: 0,\r\n\t\t\t\t\t\t\tdestination: \"\",\r\n\t\t\t\t\t\t\tdoor_time: '@datetime()',\r\n\t\t\t\t\t\t\tduration: \"时长：2小时\",\r\n\t\t\t\t\t\t\tlabel: \"扫把 毛巾 洗洁精 擦玻器 吸尘器 除胶剂\",\r\n\t\t\t\t\t\t\tlongitude: \"120.17557880007,30.248398420426\",\r\n\t\t\t\t\t\t\t\"name|1\": [\"日常保洁\",\"开荒保洁\",\"上门除甲醛\",\"家电维修\"],\r\n\t\t\t\t\t\t\torigin: '@county(true)',\r\n\t\t\t\t\t\t\tsend: \"开发者\",\r\n\t\t\t\t\t\t\tstate: 1,\r\n\t\t\t\t\t\t\ttel: \"181****8028\",\r\n\t\t\t\t\t\t\t\"type|1\": [\"日常保洁\",\"开荒保洁\",\"上门除甲醛\",\"家电维修\"],\r\n\t\t\t\t\t\t\tuid: 1\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\treturn orderData\r\n\t\t\t},\r\n\t\t\t// 位置授权\r\n\t\t\tgetAuthorizeInfo(){\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.userLocation',\r\n\t\t\t\t\tsuccess() { // 允许授权\r\n\t\t\t\t\t\tthat.getLocationInfo();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(){    // 拒绝授权\r\n\t\t\t\t\t\tthat.openConfirm();\r\n\t\t\t\t\t\tthat.address =\"未授权\";\r\n\t\t\t\t\t\tconsole.log(\"你拒绝了授权，无法获得周边信息\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取地理位置\r\n\t\t\t// 获取用户地理位置经纬都\r\n\t\t\tgetLocationInfo(){\r\n\t\t\t\tlet that  = this;\r\n\t\t\t    uni.getLocation({\r\n\t\t\t    \ttype: 'gcj02',\r\n\t\t\t    \tisHighAccuracy:true,\r\n\t\t\t    \tsuccess(res) {\r\n\t\t\t    \t\tconsole.log(res);\r\n\t\t\t    \t\tconsole.log('当前位置的经度：' + res.longitude);\r\n\t\t\t    \t\tconsole.log('当前位置的纬度：' + res.latitude);\r\n\t\t\t    \t\tthat.latitude = res.latitude;\r\n\t\t\t    \t\tthat.longitude = res.longitude;\r\n\t\t\t    \t\t//注册页面经纬度缓存\r\n\t\t\t    \t\tuni.setStorageSync('longitude', res.longitude);\r\n\t\t\t    \t\tuni.setStorageSync('latitude', res.latitude);\r\n\t\t\t    \t\t//百度地图\r\n\t\t\t    \t\tvar BMap = new bmap.BMapWX({\r\n\t\t\t    \t\t\tak: 'q58GRKnjyQGGXI72GMdHKBBUaHEIKSyc'\r\n\t\t\t    \t\t});\r\n\t\t\t    \t\tBMap.regeocoding({\r\n\t\t\t    \t\t\tlocation: res.latitude + \",\" + res.longitude,\r\n\t\t\t    \t\t\t// location:\"116.409443,39.909843\",\r\n\t\t\t    \t\t\tsuccess(res) {\r\n\t\t\t    \t\t\t\t// console.log(res.wxMarkerData[0].address);\r\n\t\t\t    \t\t\t\tconst address = res.wxMarkerData[0].address.substring(3);\r\n\t\t\t    \t\t\t\t// console.log(this);\r\n\t\t\t    \t\t\t\tthat.address = address;\r\n\t\t\t    \t\t\t\tuni.setStorageSync('address', address);\r\n\t\t\t    \t\t\t\t// console.log(address);\r\n\t\t\t\t\t\t\t\tconst towns = res.wxMarkerData[0].address.indexOf(\"省\");\r\n\t\t\t\t\t\t\t\tconst shi = res.wxMarkerData[0].address.indexOf(\"市\");\r\n\t\t\t\t\t\t\t\tconsole.log(\"省下表\"+towns);\r\n\t\t\t\t\t\t\t\tconsole.log(\"市下表\"+shi);\r\n\t\t\t\t\t\t\t\tconst town = res.wxMarkerData[0].address.substring(towns+1,shi+1);\r\n\t\t\t\t\t\t\t\tconsole.log(town);\r\n\t\t\t\t\t\t\t\tthis.town = town;\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('town', town);\r\n\t\t\t\t\t\t\t\t// that.getWOrkstay();\r\n\t\t\t    \t\t\t},\r\n\t\t\t    \t\t\tfail(error) {\r\n\t\t\t    \t\t\t\tconsole.log(error);\r\n\t\t\t    \t\t\t\tconsole.log(\"失败\");\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \r\n\t\t\t    \t\t})\r\n\t\t\t    \t},\r\n\t\t\t    \tfail(res) {\r\n\t\t\t    \t\tconsole.log(res);\r\n\t\t\t    \t\t\r\n\t\t\t    \t}\r\n\t\t\t    });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 再次获取授权\r\n\t\t\t// 当用户第一次拒绝后再次请求授权\r\n\t\t\topenConfirm(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif(this.address != \"未授权\"){\r\n\t\t\t\t\tuni.chooseLocation({\r\n\t\t\t\t\t\t type: 'gcj02',\r\n\t\t\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\t        console.log('当前位置的经度：' + res.longitude);\r\n\t\t\t\t\t\t        console.log('当前位置的纬度：' + res.latitude);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('longitude', res.longitude);\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('latitude', res.latitude);\r\n\t\t\t\t\t\t\t\t//百度地图\r\n\t\t\t\t\t\t\t\tthat.getTxmap(res.latitude,res.longitude)\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif(this.address ==\"未授权\"){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '请求授权当前位置',\r\n\t\t\t\t\t\tcontent: '需要获取您的地理位置，请确认授权',\r\n\t\t\t\t\t\tsuccess: (res)=> {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t  success(res) {\r\n\t\t\t\t\t\t\t\t    console.log(res.authSetting)\r\n\t\t\t\t\t\t\t\t\t// that.getLocationInfo();\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t});// 打开地图权限设置\r\n\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '你拒绝了授权，无法获得周边信息',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//控件被下拉\r\n\t\t\t\r\n\t\t\tgetAllClass(){\r\n\t\t\t    return new Promise((resolve, reject) => {\r\n\t\t\t\t\t\r\n                resolve(this.checklogin());\r\n\r\n\t\t\t       \r\n\t\t\t    })\r\n\t\t\t},\r\n\t\t\t//封装百度地图调用api\r\n\t\t\tgetbmap(la,lo){\r\n\t\t\t\t//百度地图\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar BMap = new bmap.BMapWX({\r\n\t\t\t\t\tak: 'q58GRKnjyQGGXI72GMdHKBBUaHEIKSyc'\r\n\t\t\t\t});\r\n\t\t\t\tBMap.regeocoding({\r\n\t\t\t\t\tlocation: la + \",\" + lo,\r\n\t\t\t\t\t// location:\"116.409443,39.909843\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// console.log(res.wxMarkerData[0].address);\r\n\t\t\t\t\t\tconst address = res.wxMarkerData[0].address.substring(3);\r\n\t\t\t\t\t\t// console.log(this);\r\n\t\t\t\t\t\tthat.address = address;\r\n\t\t\t\t\t\tuni.setStorageSync('address', address);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\tconsole.log(\"失败\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t    \r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//封装腾讯逆地址解析\r\n\t\t\tgetTxmap(la,lo){\r\n\t\t\t\tlet qqmapsdk = new QQMapWX({\r\n\t\t\t\t\tkey: 'E6FBZ-XLTWP-S7SDE-V435J-YVAAE-I2BAT'\r\n\t\t\t\t});\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tqqmapsdk.reverseGeocoder({\r\n\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\tlatitude: la,\r\n\t\t\t\t\t\tlongitude: lo\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(\"腾讯逆地址\");\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.address = res.result.address;\r\n\t\t\t\t\t\tuni.setStorageSync('address', that.address);\r\n\t\t\t\t\t\tconst towns = that.address.indexOf(\"省\");\r\n\t\t\t\t\t\tconst shi = that.address.indexOf(\"市\");\r\n\t\t\t\t\t\tconsole.log(\"省下表\"+towns);\r\n\t\t\t\t\t\tconsole.log(\"市下表\"+shi);\r\n\t\t\t\t\t\tconst town = that.address.substring(towns+1,shi+1);\r\n\t\t\t\t\t\tconsole.log(town);\r\n\t\t\t\t\t\tthat.town = town;\r\n\t\t\t\t\t\tuni.setStorageSync('town', town);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t//自定义分享页面\r\n\t\tonShareAppMessage(e){\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.$overShare.title,\r\n\t\t\t\tpath: this.$overShare.path,\r\n\t\t\t\timageUrl:this.$overShare.imageUrl,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t.u-search{\r\n\t\tmargin-left: 25upx;\r\n\t\tmargin-right: 25upx;\r\n\t\tpadding-top: 25upx;\r\n\t}\r\n\t.shaixuan{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t/* margin-left: 25upx;\r\n\t\tmargin-right: 25upx; */\r\n\t\tmargin: 25upx;\r\n\t}\r\n\t.showselector{\r\n\t\twidth: 20%;\r\n\t\theight: 60upx !important;\r\n\t\t\r\n\t}\r\n\t.showtime{\r\n\t\twidth: 20%;\r\n\t\theight: 60upx !important;\r\n\t}\r\n\tbutton::after{\r\n\t\tborder: none;\r\n\t}\r\n\t.u-size-default {\r\n\t    font-size: 30rpx;\r\n\t    height: 60rpx;\r\n\t    line-height: 80rpx;\r\n\t}\r\n\t\r\n</style>\r\n<style scoped>\r\n\t.acmin{\r\n\t\tcolor: #00ABEB;\r\n\t}\r\n\t.choseminmix{\r\n\t\tpadding-top: 6upx;\r\n\t\t padding-bottom: 6upx;\r\n\t\t background: #ccc;\r\n\t\t border-radius: 24upx;\r\n\t\t margin-top: 5upx;\r\n\t\t width: 150upx;\r\n\t}\r\n\t.content1{\r\n\t\tposition: relative;\r\n\t}\r\n\t.signed{\r\n\t\twidth: 115upx;\r\n\t\theight: 44upx;\r\n\t\tbackground: linear-gradient(90deg, #00ABEB, #54C3F1);\r\n\t\tborder-radius: 22upx;\r\n\t\tposition: absolute;\r\n\t\ttop: 8px;\r\n\t\tright: 12px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 44upx;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\t/* u-search */\r\n\t\r\n\t/* 顶部导航栏自定义 */\r\n\t.slot-wrap {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t/* 如果您想让slot内容占满整个导航栏的宽度 */\r\n\t\t/* flex: 1; */\r\n\t\t/* 如果您想让slot内容与导航栏左右有空隙 */\r\n\t\tpadding: 0 25rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tmargin-top: 2upx;\r\n\t\tfont-size: 22upx;\r\n\t}\r\n\t/* 数字角标 */\r\n\t.badge {\r\n\t\t\tbackground-color: blue;\r\n\t\t\tcolor: white;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 200upx;\r\n\t\t\tright: 20upx;\r\n\t\t}\r\n\t.status_bar {\r\n\t\theight: var(--status-bar-height);\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t/* content */\r\n\t.content {}\r\n\r\n\t/* < 地理位置 */\r\n\t.location {\r\n\t\tbackground-color: #f85f31;\r\n\t\twidth: 100%;\r\n\t\theight: 51upx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tpadding-left: 25upx;\r\n\t\tpadding-right: 25upx;\r\n\t}\r\n\r\n\t.location .icondiliweizhi {\r\n\t\tfont-size: 28upx;\r\n\t\tpadding-right: 10upx;\r\n\t}\r\n\r\n\t/* tabs */\r\n\t.tab-bar {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-left: 25upx;\r\n\t\tpadding-right: 25upx;\r\n\t\tmargin-top: 40upx;\r\n\t\tmargin-bottom: 40upx;\r\n\t}\r\n\r\n\t.tab-bar view {\r\n\t\twidth: 340upx;\r\n\t\theight: 76upx;\r\n\t\tbackground-color: #CCCCCC;\r\n\t\tcolor: #FFFFFF;\r\n\t\tborder-radius: 8upx;\r\n\t\tfont-size: 40upx;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 76upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.tab-bar .active {\r\n\t\tbackground: linear-gradient(90deg,  #54C3F1, #00ABEB);\r\n\t}\r\n\r\n\tuni-scroll-view .uni-scroll-view::-webkit-scrollbar {\r\n\t\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\r\n\t\t/* display: none */\r\n\t}\r\n\r\n\t/* xss中添加以下样式代码 */\r\n\t/*隐藏滚动条*/\r\n\t/* ::-webkit-scrollbar {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tcolor: transparent;\r\n\t} */\r\n\r\n\t\r\n</style>\r\n","import mod from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=57280228&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&id=57280228&scoped=true&lang=css&\""],"sourceRoot":""}